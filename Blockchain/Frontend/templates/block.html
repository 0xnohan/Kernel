{% extends 'base.html' %} {% block title %}Blocks{% endblock %} {% block
  content %}
  <section class="card data-list block-list">
    <header class="card-header">
      <h1 class="card-title">Latest Blocks</h1>
      {% if total_pages > 1 %}
         <span class="header-meta">Page {{ current_page }} of {{ total_pages }}</span>
      {% endif %}
    </header>
    <div class="card-body no-padding">
      <div class="table-responsive">
        <table class="data-table">
          <thead>
            <tr>
              <th>Height</th>
              <th>Age</th>
              <th>Block Hash</th>
              <th>Transactions</th>
              <th>Total Sent (KNL)</th>
              <th>Size (Bytes)</th>
            </tr>
          </thead>
          <tbody>
            {% for block_data in blocks %} 
            <tr>
               <td data-label="Height"><a href="{{ url_for('block', blockHeader=block_data['BlockHeader']['blockHash']) }}">{{ block_data["Height"] }}</a></td>
               <td data-label="Age">{{ block_data.get('age_str', 'N/A') }}</td>
               <td data-label="Block Hash" class="cell-hash font-mono"><a href="{{ url_for('block', blockHeader=block_data['BlockHeader']['blockHash']) }}">{{ block_data["BlockHeader"]['blockHash'] }}</a></td>
               <td data-label="Transactions" class="cell-numeric">{{ block_data["Txcount"] }}</td>
               <td data-label="Total Sent (KNL)" class="cell-numeric cell-amount">{{ "{:,.2f}".format(block_data.get('total_sent', 0)) }}</td>
               <td data-label="Size (Bytes)" class="cell-numeric">{{ block_data["Blocksize"] }}</td>
            </tr>
            {% else %}
            <tr>
              <td colspan="6" class="no-data-message">No blocks available.</td>
            </tr>
            {% endfor %}
          </tbody>
        </table>
      </div>
    </div>
  
    {% if total_pages > 1 %}
    <footer class="card-footer pagination-footer">
        <nav aria-label="Page navigation">
            <ul class="pagination">
                <li class="page-item {% if current_page <= 1 %}disabled{% endif %}">
                    <a class="page-link" href="{{ url_for('block', page=current_page - 1) if current_page > 1 else '#' }}" aria-label="Previous">
                        &laquo; Prev
                    </a>
                </li>
  
                <li class="page-item disabled"><span class="page-link">Page {{ current_page }} / {{ total_pages }}</span></li>
  
                <li class="page-item {% if current_page >= total_pages %}disabled{% endif %}">
                    <a class="page-link" href="{{ url_for('block', page=current_page + 1) if current_page < total_pages else '#' }}" aria-label="Next">
                        Next &raquo;
                    </a>
                </li>
            </ul>
        </nav>
    </footer>
    {% endif %}
  
  </section>
  {% endblock %}